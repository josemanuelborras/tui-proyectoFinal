<main>
  <a href="{% url 'admin_home' %}">Volver al panel</a>
  <h2>Materias</h2>
  <div class="tableContainer">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Editar</th>
          <th>Eliminar</th>
        </tr>
      </thead>
      <tbody>
        {% for materia in materias %}
          <tr>
            <td>{{ materia.id }}</td>
            <td>{{ materia.nombre }}</td>
            <td>
              <input
                type="checkbox"
                id="edit-toggle-{{ materia.id }}"
                class="edit-toggle" style="display: none"
                {% if edit_id and edit_id == materia.id %}checked{% endif %}
              />
              <label
                for="edit-toggle-{{ materia.id }}"
                class="btn-editar"
                style="cursor: pointer"
                >Editar</label
              >
            </td>
            <td>
              <form
                method="post"
                action="{% url 'materia_delete' materia.id %}"
                style="display: inline"
              >
                {% csrf_token %}
                <button type="submit" class="btn btn-danger">Eliminar</button>
              </form>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5">No hay Materias registradas.</td>
          </tr>
        {% endfor %}
        <tr>
          <td colspan="5" class="addNew">
            <form
              method="post"
              action="{% url 'materia_create' %}"
              class="add-form"
            >
              {% csrf_token %} {{ form.as_p }}
              <button type="submit" class="btn btn-secondary">Agregar</button>
            </form>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</main>
